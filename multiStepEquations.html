<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solving Multi-step Equations</title>
    <link rel="stylesheet" href="math.css">
</head>
<body>
    <h1>Multi-step Equations</h1>
    <h3>Fraction answers are accepted. If you're using decimals, round to the nearest hundredths.</h3>
    <p id="score">Your score: </p>
    <h4>Problem Type 1</h4>
    <!-- multiplication problem -->
    <p id="prompt1"></p>
    <p id="expression1"></p>
    <input type="text" id="attempt1"> <input type="submit" value="Enter" onclick="checkAnswer1()"> <br>
    <p id="result1"></p>
    <br>
    <br>
    <h4> Problem Type 2</h4>
    <!-- division1 problem -->
    <!-- first term -->
    <p id="prompt2"></p>
    <div class="frac">
        <div id="expression2numer" class="numer"></div>
        <div id="expression2denom" class="denom"></div>
    </div>
<!--rest of equation -->
    <div id="restOfEquation2" class="q"></div>
    <br> <br> <br> <br>
    <input type="text" id="attempt2"> <input type="submit" value="Enter" onclick="checkAnswer2()"> <br>
<p id="result2"></p>

<!-- incorrect2 prompt-->
<div id="incorrect2prompt"class="leftq"></div>
<div class="specialfrac">
    <div id="INexpression2numer" class="numer"></div>
    <div id="INexpression2denom" class="denom"></div>
</div>
<div id="INrestOfEquation2" class="specialq"></div> <br> <br> <br>
<h4>Problem Type 3</h4>
    <!-- division2 problem -->
<p id="prompt3"></p>
    <div class="frac">
        <div id="expression3numer" class="numer"></div>
        <div id="expression3denom" class="denom"></div>
    </div>
    <div id="restOfEquation3" class="q"></div>
    <br> <br> <br> <br>
    <input type="text" id="attempt3"> <input type="submit" value="Enter" onclick="checkAnswer3()"> <br>
    <p id="result3"></p>
    <!-- incorrect3 prompt-->
<div id="incorrect3prompt"class="leftq"></div>
<div class="specialfrac">
    <div id="INexpression3numer" class="numer"></div>
    <div id="INexpression3denom" class="denom"></div>
</div>
<div id="INrestOfEquation3" class="specialq"></div> <br> <br> <br>
    <script>
        var numbers = [0,1,2,3,4,5,6,7,8,9];
        var naturals = [1,2,3,4,5,6,7,8,9];
        var letters = ["a","b","c","x","y","z"];
        var operations = ["+", "-"];
        var multiplicationStreak = 0;
        var division1Streak = 0;
        var division2Streak = 0;

        var a1 = naturals[Math.floor(Math.random()*naturals.length)];
        var a2 = naturals[Math.floor(Math.random()*naturals.length)];
        var a3 = naturals[Math.floor(Math.random()*naturals.length)];
        var a4 = naturals[Math.floor(Math.random()*naturals.length)];

        var b1 = numbers[Math.floor(Math.random()*numbers.length)];
        var b2 = numbers[Math.floor(Math.random()*numbers.length)];
        var b3 = numbers[Math.floor(Math.random()*numbers.length)];

        var c1 = numbers[Math.floor(Math.random()*numbers.length)];
        var c2 = numbers[Math.floor(Math.random()*numbers.length)];
        var c3 = numbers[Math.floor(Math.random()*numbers.length)];

        var variable1 = letters[Math.floor(Math.random()*letters.length)];
        var variable2 = letters[Math.floor(Math.random()*letters.length)];
        var variable3 = letters[Math.floor(Math.random()*letters.length)];

        var op1 = operations[Math.floor(Math.random()*operations.length)]
        var op2 = operations[Math.floor(Math.random()*operations.length)]
        var op3 = operations[Math.floor(Math.random()*operations.length)]
        
        //score calculation
        var total = 0;



        //multiplication
        document.getElementById("prompt1").innerHTML = "Solve for " + variable1 + ":"
        document.getElementById("expression1").innerHTML = a1 + variable1 + " " + op1 + " " + b1 + " = " + c1;

        function checkAnswer1() {
            if (op1 == "+" ) {
                var answer1 = eval((c1 - b1)/a1)

            } else {
                var answer1 = eval((c1 + b1)/a1)

            }

            if (eval(document.getElementById("attempt1").value).toFixed(2)==answer1.toFixed(2)) {
                multiplicationStreak++;
                document.getElementById("result1").innerHTML = "Correct! Streak: " + multiplicationStreak;
                document.getElementById("attempt1").value = " ";
                changeQuestion1();
                total++;
            } else {
                multiplicationStreak = 0;
                document.getElementById("result1").innerHTML = "Incorrect! Streak: " + multiplicationStreak + " The question you got wrong: " + a1 + variable1 + " " + op1 + " " + b1 + " = " + c1;
                changeQuestion1();
                total++;

            }
            calculateScore();
        }

        function changeQuestion1() {
            a1 = naturals[Math.floor(Math.random()*naturals.length)];
            b1 = numbers[Math.floor(Math.random()*numbers.length)];
            c1 = numbers[Math.floor(Math.random()*numbers.length)];
            variable1 = letters[Math.floor(Math.random()*letters.length)];
            op1 = operations[Math.floor(Math.random()*operations.length)];
            document.getElementById("prompt1").innerHTML = "Solve for " + variable1 + ":"
            document.getElementById("expression1").innerHTML = a1 + variable1 + " " + op1 + " " + b1 + " = " + c1;
        }
        //division1
        document.getElementById("prompt2").innerHTML = "Solve for " + variable2 + ":";

        document.getElementById("expression2numer").innerHTML = variable2;
        document.getElementById("expression2denom").innerHTML = a2 + " ";
        document.getElementById("restOfEquation2").innerHTML = op2 + " " + b2 + " = " + c2;

        function checkAnswer2() {
            if (op2 == "+" ) {
                var answer2 = eval(a2*(c2 - b2))

            } else {
                var answer2 = eval(a2*(c2 + b2))

            }

            if (eval(document.getElementById("attempt2").value).toFixed(2)==answer2.toFixed(2)) {
                division1Streak++;
                document.getElementById("result2").innerHTML = "Correct! Streak: " + division1Streak;
                document.getElementById("attempt2").value = " ";
                changeQuestion2();
                total++;
            } else {
                division1Streak = 0;
                document.getElementById("result2").innerHTML = "Incorrect! Streak: " + division2Streak;
                document.getElementById("incorrect2prompt").innerHTML = "What you got incorrect was: "
                document.getElementById("INexpression2numer").innerHTML = variable2;
                document.getElementById("INexpression2denom").innerHTML = a2 + " ";
                document.getElementById("INrestOfEquation2").innerHTML = op2 + " " + b2 + " = " + c2;
                changeQuestion2();
                total++;
            }
            calculateScore();
        }

        function changeQuestion2() {
            a2 = naturals[Math.floor(Math.random()*naturals.length)];
            b2 = numbers[Math.floor(Math.random()*numbers.length)];
            c2 = numbers[Math.floor(Math.random()*numbers.length)];
            variable2 = letters[Math.floor(Math.random()*letters.length)];
            op2 = operations[Math.floor(Math.random()*operations.length)];
            document.getElementById("expression2numer").innerHTML = variable2;
            document.getElementById("expression2denom").innerHTML = a2 + " ";
            document.getElementById("restOfEquation2").innerHTML = op2 + " " + b2 + " = " + c2;
        }
        //division2

        document.getElementById("prompt3").innerHTML = "Solve for " + variable3 + ":";

        document.getElementById("expression3numer").innerHTML = a3 + variable3 + " " + op3 + " " + b3;
        document.getElementById("expression3denom").innerHTML = a4;
        document.getElementById("restOfEquation3").innerHTML = " = " + c3;

        function checkAnswer3() {
            if (op3 == "+" ) {
                var answer3 = eval((c3*a4-b3)/a3)

            } else {
                var answer3 = eval((c3*a4+b3)/a3)

            }

            if (eval(document.getElementById("attempt3").value).toFixed(2)==answer3.toFixed(2)) {
                division2Streak++;
                document.getElementById("result3").innerHTML = "Correct! Streak: " + division2Streak;
                document.getElementById("attempt3").value = " ";
                changeQuestion3();
                total++;
            } else {
                division2Streak++;
                document.getElementById("result3").innerHTML = "Incorrect! Streak: " + division2Streak;
                document.getElementById("incorrect3prompt").innerHTML = "What you got incorrect was: "
                document.getElementById("INexpression3numer").innerHTML = a3 + variable3 + " " + op3 + " " + b3;
                document.getElementById("INexpression3denom").innerHTML = a4;
                document.getElementById("INrestOfEquation3").innerHTML = " = " + c3;
                changeQuestion3();
                total++;
            }
            calculateScore();
        }

        function changeQuestion3() {
            a3 = naturals[Math.floor(Math.random()*naturals.length)];
            a4 = naturals[Math.floor(Math.random()*naturals.length)];
            b3 = numbers[Math.floor(Math.random()*numbers.length)];
            c3 = numbers[Math.floor(Math.random()*numbers.length)];
            variable3 = letters[Math.floor(Math.random()*letters.length)];
            op3 = operations[Math.floor(Math.random()*operations.length)];
            document.getElementById("expression3numer").innerHTML = a3 + variable3 + " " + op3 + " " + b3;
            document.getElementById("expression3denom").innerHTML = a4;
            document.getElementById("restOfEquation3").innerHTML = " = " + c3;
        }

        function calculateScore() {
            var score = eval(100*(multiplicationStreak + division1Streak + division2Streak)/total);
            if (score == 100) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). A++";
        } else if (score > 96) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). A+";
        } else if (score > 92) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). A";
        } else if (score > 89) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). A-";
        } else if (score > 86) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). B+";
        } else if (score > 82) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). B";
        } else if (score > 79) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). B-";
        } else if (score > 76) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). C+";
        } else if (score > 72) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). C";
        } else if (score > 69) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). C-";
        } else if (score > 66) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). D+";
        } else if (score > 62) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). D";
        } else if (score > 59) {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). D-";
        } else {
            document.getElementById("score").innerHTML = "Your score: " + score.toFixed(2) + "% (" + eval(multiplicationStreak + division1Streak + division2Streak) + "/" + total + "). F";
        }
        }
    </script>
</body>
</html>
